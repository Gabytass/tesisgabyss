{% extends "base.html" %}
{% block title %}{{ producto['nombre'] }} - Disfaluvid{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row align-items-center">
    
    <!-- üì∏ Imagen del producto -->
    <div class="col-md-6 mb-4 mb-md-0">
      <img src="{{ producto['imagen'] if producto['imagen'] and producto['imagen'].startswith('http') 
                   else url_for('static', filename=producto['imagen'] if producto['imagen'] else 'logo_empresa.png') }}" 
           class="img-fluid rounded shadow" 
           alt="{{ producto['nombre'] }}">
    </div>

    <!-- ‚ÑπÔ∏è Informaci√≥n del producto -->
    <div class="col-md-6">
      <h1 class="fw-bold" style="color:rgb(5, 250, 5);">{{ producto['nombre'] }}</h1>
      <p class="fs-5 text-dark">{{ producto['descripcion'] }}</p>

      <!-- üìè Medidas -->
      {% if producto.get('frente') or producto.get('fondo') or producto.get('altura') %}
      <h5 class="mt-3" style="color:black;">Medidas:</h5>
      <ul class="list-unstyled">
        {% if producto.get('frente') %}
          <li><strong>Frente:</strong> {{ producto['frente'] }} cm</li>
        {% endif %}
        {% if producto.get('fondo') %}
          <li><strong>Fondo:</strong> {{ producto['fondo'] }} cm</li>
        {% endif %}
        {% if producto.get('altura') %}
          <li><strong>Altura:</strong> {{ producto['altura'] }} cm</li>
        {% endif %}
      </ul>
      {% endif %}

      <!-- üí≤ Precio -->
      <p class="fs-4 mt-3">
        <strong>Precio:</strong> 
        <span style="color:green;">${{ '%.2f'|format(producto.get('precio',0)) }}</span>
      </p>

      <!-- ‚≠ê Calificaci√≥n -->
      {% if producto.get('promedio') %}
        <p><strong>Calificaci√≥n promedio:</strong> {{ '%.1f'|format(producto['promedio']) }} ‚≠ê</p>
      {% else %}
        <p><em>Sin calificaciones a√∫n</em></p>
      {% endif %}

      <!-- üîò Botones de acci√≥n -->
<div class="d-grid gap-2 mt-4">
  <a href="{{ url_for('agregar_al_carrito', id_producto=producto['id']) }}" class="btn btn-success">
    üõí Agregar al carrito
  </a>
  {% if producto.get('archivo_ra') %}
    <a href="{{ url_for('ver_modelo', nombre_archivo=producto['archivo_ra']) }}" class="btn btn-dark">
      üëì Ver en 3D
    </a>
  {% endif %}
  <a href="{{ url_for('index') }}" class="btn btn-outline-dark">
    ‚Üê Volver al cat√°logo
  </a>
</div>
